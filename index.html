<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Australian Hospital Distribution Dashboard</title>

  <!-- Vega libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <main>
    <h1>Distribution of Registered Hospitals in Australia</h1>
    <p>Use the dropdown to explore hospital counts across states. The map and bar chart update together.</p>

    <div class="control-panel">
      <label for="stateFilter"><strong>Select State:</strong></label>
      <select id="stateFilter">
        <option value="">Show All</option>
        <option value="NSW">NSW</option>
        <option value="VIC">VIC</option>
        <option value="QLD">QLD</option>
        <option value="WA">WA</option>
        <option value="SA">SA</option>
        <option value="TAS">TAS</option>
        <option value="NT">NT</option>
        <option value="ACT">ACT</option>
      </select>
    </div>

    <section class="story-block story-layout two-chart">
      <div class="story-text">
        <h2>Where hospitals are concentrated</h2>
        <p>The choropleth highlights the population-heavy east coast, where New South Wales and Victoria host the largest share of public hospitals. Toggle individual states to see how quickly the totals drop once you move away from the eastern seaboard or into the sparsely populated territories.</p>
        <p>When a state filter is applied, the bar chart to the right isolates that region over time. Notice how the national trend is fairly flat from 2019 to 2023, yet New South Wales ticks upward after 2021 while Western Australia barely moves. The dashboard is meant to encourage this back-and-forth between the map and the bar chart: pick a state on the map, then read the trajectory in the bar chart.</p>
      </div>
      <div class="story-viz stack">
        <div id="hospital_map" class="viz tall"></div>
        <div id="hospital_bar" class="viz"></div>
      </div>
    </section>

    <section class="story-block story-layout reverse">
      <div class="story-viz single">
        <div id="funding_bar" class="viz tall"></div>
      </div>
      <div class="story-text">
        <h2>Funding profiles add context</h2>
        <p>The stacked columns split each funding source by ownership, making it easier to see who is underwriting public versus private care. For most jurisdictions the state and territory governments shoulder almost the entire public bill, while the non-government column is dominated by private operators.</p>
        <p>Pay attention to shifts in the private component as you move the slider, if a state's growth in hospitals is carried mainly by private dollars, it points to expanding commercial capacity rather than extra public access. Conversely, rising Commonwealth support alongside public spend suggests a concerted investment in the public system.</p>
      </div>
    </section>

    <section class="story-block story-layout">
      <div class="story-text">
        <h2>Capacity, access, and investment</h2>
        <p>The bubble chart brings the narrative together. Each point plots available beds against the number of hospitals, while bubble size signals health expenditure. Drag the year slider to see how capital spending spikes in 2021-2022 translated to extra beds in New South Wales and Victoria, but produced only modest gains for Tasmania and the Northern Territory.</p>
        <p>If a bubble sits high but remains small, the state is operating many facilities on comparatively lean budgets, a signal to investigate efficiency or unmet demand. Combine the three views: the map tells you where hospitals reside, funding exposes the resources behind them, and the bubble chart shows whether those resources translate into capacity.</p>
      </div>
      <div class="story-viz">
        <div id="bubble_chart" class="viz tall"></div>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
